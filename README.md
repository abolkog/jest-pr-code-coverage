[jest]: https://jestjs.io/

# Jest PR Code Coverage

This action run [jest](jest) and generate coverage report for all the files in the PR.

<img src="./assets/pr-coverage-sample.png" />

## Inputs

### `github-token`

A github token is required. If you are using the default one generated by github.com, please ensure that you check `read and write permissions` in the repository action settings.

### `test-script`

A script used to run the tests, by default the action will use the command `npx jest` to run the tests. For some cases, you might want to use another script to run the tests, for example when using create-react-app you would want to run `npx test` instead.
Please not that you do not need to provide any additional flags, the action will add all the required flags.

```
with:
    test-script: npm test
```

### `min-threshold`

This option can be used to specifiy a minimum coverage thresholod percentage. If the total coverage percentage is below this threshold the action will fail the workflow. By default this value is not used

```
with:
    min-threshold: 50
```

## Usage

- You will need to have [jest](jest) as a dependecy in your project

- This action will not work with `collectCoverageFrom` option. Please remove this option if you are using

- In your workflow files:

```
- name: Coverage
  uses: abolkog/jest-pr-code-coverage@v1.1.1

```

## Contributing

Pull requests are welcome. Please make sure to check the [CONTRIBUTING.md](./CONTRIBUTING.md) guide first.

## License

This project is licensed under the MIT License - see the [LICENSE.md](LICENSE.md) file for details
